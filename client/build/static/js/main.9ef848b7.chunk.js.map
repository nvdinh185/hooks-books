{"version":3,"sources":["pages/Home.js","pages/Add.js","pages/Edit.js","App.js","index.js"],"names":["Home","_useState","useState","_useState2","_slicedToArray","listBooks","setListBooks","_useState3","_useState4","msg","setMsg","state","useLocation","useEffect","_fetchData","_asyncToGenerator","_regeneratorRuntime","mark","_callee","result","wrap","_context","prev","next","axios","sent","data","stop","apply","arguments","fetchData","handleDelete","_ref","_callee2","id","_context2","confirm","method","url","concat","_x","_jsxs","children","_jsx","Link","to","style","color","backgroundColor","map","book","idx","title","description","detail","status","onClick","Add","errorTitle","setErrorTitle","errorDescription","setErrorDescription","_useState5","_useState6","errorDetail","setErrorDetail","_useState7","_useState8","errorStatus","setErrorStatus","_useState9","_useState10","setTitle","_useState11","_useState12","setDescription","_useState13","_useState14","setDetail","_useState15","_useState16","setStatus","navigate","useNavigate","handleSubmit","e","check","generateUuid","stt","formValue","replace","c","r","Math","random","toString","preventDefault","handleBlur","target","name","value","handleInput","onSubmit","onBlur","onInput","type","className","onChange","fontStyle","rows","cols","Edit","useParams","App","_Fragment","Router","Routes","Route","path","element","render","document","getElementById"],"mappings":"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","file":"static/js/main.9ef848b7.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport { useState, useEffect } from 'react';\r\nimport { Link, useLocation } from \"react-router-dom\";\r\n\r\nconst Home = () => {\r\n\r\n    const [listBooks, setListBooks] = useState([]);\r\n    const [msg, setMsg] = useState('');\r\n    const { state } = useLocation();\r\n\r\n    useEffect(() => {\r\n        async function fetchData() {\r\n            let result = await axios('http://localhost:3001/book');\r\n            setListBooks(result.data);\r\n        }\r\n        fetchData();\r\n        if (state) {\r\n            setMsg(state.msg);\r\n        }\r\n    }, []);\r\n\r\n\r\n    const handleDelete = async (id) => {\r\n        if (confirm('Bạn có chắc muốn xóa ?')) {\r\n            await axios({\r\n                method: \"DELETE\",\r\n                url: `http://localhost:3001/book/${id}`,\r\n            });\r\n        }\r\n        let result = await axios('http://localhost:3001/book');\r\n        setListBooks(result.data);\r\n        setMsg('Đã xóa thành công!');\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <button><Link to='/add'>Thêm sách</Link></button>\r\n            <p style={{ color: 'green', backgroundColor: 'yellow' }}>{msg}</p>\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>id</th>\r\n                        <th>title</th>\r\n                        <th>description</th>\r\n                        <th>detail</th>\r\n                        <th>status</th>\r\n                        <th>function</th>\r\n                    </tr>\r\n                </thead>\r\n\r\n                <tbody>\r\n                    {listBooks.map((book, idx) =>\r\n                        <tr key={idx}>\r\n                            <td>{book.id}</td>\r\n                            <td>{book.title}</td>\r\n                            <td>{book.description}</td>\r\n                            <td>{book.detail}</td>\r\n                            <td>{book.status}</td>\r\n                            <td>\r\n                                <button><Link to={'/edit/' + book.id}>Sửa</Link></button>\r\n                                <button onClick={() => handleDelete(book.id)}>Xóa</button>\r\n                            </td>\r\n                        </tr>\r\n                    )}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home;","import { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\n\r\nconst Add = () => {\r\n\r\n    const [errorTitle, setErrorTitle] = useState('');\r\n    const [errorDescription, setErrorDescription] = useState('');\r\n    const [errorDetail, setErrorDetail] = useState('');\r\n    const [errorStatus, setErrorStatus] = useState('');\r\n    const [title, setTitle] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    const [detail, setDetail] = useState('');\r\n    const [status, setStatus] = useState('');\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        let check = true;\r\n        if (!title) {\r\n            setErrorTitle('Vui lòng nhập tiêu đề!');\r\n            check = false;\r\n        }\r\n        if (!description) {\r\n            setErrorDescription('Vui lòng nhập mô tả!');\r\n            check = false;\r\n        }\r\n        if (!detail) {\r\n            setErrorDetail('Vui lòng nhập chi tiết!');\r\n            check = false;\r\n        }\r\n        if (!status) {\r\n            setErrorStatus('Vui lòng nhập trạng thái!');\r\n            check = false;\r\n        }\r\n\r\n        function generateUuid() {\r\n            return 'xxxx-xxxx-xxx-xxxx'.replace(/[x]/g, function (c) {\r\n                let r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\r\n                return v.toString(16);\r\n            });\r\n        }\r\n\r\n        if (check) {\r\n            let stt = status;\r\n            //chuyển sang kiểu dữ liệu boolean (nếu là string)\r\n            if (status === 'true') {\r\n                stt = true;\r\n            }\r\n            if (status === 'false') {\r\n                stt = false;\r\n            }\r\n            let formValue = {\r\n                id: generateUuid(),\r\n                title,\r\n                description,\r\n                detail,\r\n                status: stt\r\n\r\n            }\r\n            await axios({\r\n                method: \"POST\",\r\n                url: 'http://localhost:3001/book',\r\n                data: formValue\r\n            });\r\n            navigate('/', { state: { msg: 'Đã thêm thành công!' } });\r\n        }\r\n    }\r\n\r\n    const handleBlur = (e) => {\r\n        if (e.target.name == 'title') {\r\n            if (!e.target.value) {\r\n                setErrorTitle('Vui lòng nhập tiêu đề!');\r\n            }\r\n        } else if (e.target.name == 'description') {\r\n            if (!e.target.value) {\r\n                setErrorDescription('Vui lòng nhập mô tả!');\r\n            }\r\n        } else if (e.target.name == 'detail') {\r\n            if (!e.target.value) {\r\n                setErrorDetail('Vui lòng nhập chi tiết!');\r\n            }\r\n        } else if (e.target.name == 'status') {\r\n            if (!e.target.value) {\r\n                setErrorStatus('Vui lòng nhập trạng thái!');\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleInput = (e) => {\r\n        if (e.target.name == 'title') {\r\n            setErrorTitle('');\r\n        } else if (e.target.name == 'description') {\r\n            setErrorDescription('');\r\n        } else if (e.target.name == 'detail') {\r\n            setErrorDetail('');\r\n        } else if (e.target.name == 'status') {\r\n            setErrorStatus('');\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>\r\n                <span>Thêm thông tin sách</span>\r\n            </h2>\r\n\r\n            <div>\r\n\r\n                <form onSubmit={(e) => handleSubmit(e)}>\r\n\r\n                    <div>\r\n                        <label>title</label><br />\r\n                        <input onBlur={e => handleBlur(e)} onInput={e => handleInput(e)} type=\"text\"\r\n                            name=\"title\" className={errorTitle && 'invalid'} value={title}\r\n                            onChange={(e) => { setTitle(e.target.value) }} />\r\n                        <span style={{\r\n                            color: 'red',\r\n                            fontStyle: 'italic'\r\n                        }}>{errorTitle}</span>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label>description</label><br />\r\n                        <textarea rows=\"3\" cols=\"25\" onBlur={e => handleBlur(e)} onInput={e => handleInput(e)}\r\n                            name=\"description\" className={errorDescription && 'invalid'}\r\n                            value={description} onChange={(e) => { setDescription(e.target.value) }}></textarea>\r\n                        <span style={{\r\n                            color: 'red',\r\n                            fontStyle: 'italic'\r\n                        }}>{errorDescription}</span>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label>detail</label><br />\r\n                        <textarea rows=\"3\" cols=\"25\" onBlur={e => handleBlur(e)} onInput={e => handleInput(e)}\r\n                            name=\"detail\" className={errorDetail && 'invalid'}\r\n                            value={detail} onChange={(e) => { setDetail(e.target.value) }}></textarea>\r\n                        <span style={{\r\n                            color: 'red',\r\n                            fontStyle: 'italic'\r\n                        }}>{errorDetail}</span>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label>status</label><br />\r\n                        <select value={status} onChange={(e) => { setStatus(e.target.value) }}\r\n                            name=\"status\" className={errorStatus && 'invalid'}\r\n                            onBlur={e => handleBlur(e)} onInput={e => handleInput(e)}>\r\n                            <option value=''>-- Chọn tình trạng sách --</option>\r\n                            <option value='true'>Enabled</option>\r\n                            <option value='false'>Disabled </option>\r\n                        </select>\r\n                        <span style={{\r\n                            color: 'red',\r\n                            fontStyle: 'italic'\r\n                        }}>{errorStatus}</span>\r\n                    </div>\r\n                    <input type=\"submit\" value=\"Thêm sách\" />\r\n                </form>\r\n                <button><Link to='/'>Danh sách</Link></button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Add;","import { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Link, useParams, useNavigate } from \"react-router-dom\";\r\n\r\nconst Edit = () => {\r\n\r\n    const { id } = useParams();\r\n    const [title, setTitle] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    const [detail, setDetail] = useState('');\r\n    const [status, setStatus] = useState(true);\r\n\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        async function fetchData() {\r\n            var book = await axios(`http://localhost:3001/book/${id}`);\r\n            setTitle(book.data.title);\r\n            setDescription(book.data.description);\r\n            setDetail(book.data.detail);\r\n            setStatus(book.data.status === 1);\r\n        }\r\n        fetchData();\r\n    }, [id]);\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        let stt = status;\r\n        //chuyển sang kiểu dữ liệu boolean (nếu là string)\r\n        if (status === 'true') {\r\n            stt = true;\r\n        }\r\n        if (status === 'false') {\r\n            stt = false;\r\n        }\r\n        let formValue = {\r\n            id,\r\n            title,\r\n            description,\r\n            detail,\r\n            status: stt\r\n\r\n        }\r\n\r\n        await axios({\r\n            method: \"PUT\",\r\n            url: `http://localhost:3001/book/${id}`,\r\n            data: formValue\r\n        });\r\n        navigate('/', { state: { msg: 'Đã sửa thành công!' } });\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>\r\n                <span>Sửa thông tin sách</span>\r\n            </h2>\r\n\r\n            <div>\r\n\r\n                <form onSubmit={(e) => handleSubmit(e)}>\r\n\r\n                    <div>\r\n                        <input type=\"hidden\" name=\"id\" value={id} />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label>title</label><br />\r\n                        <input type=\"text\" value={title} onChange={(e) => { setTitle(e.target.value) }} />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label>description</label><br />\r\n                        <textarea rows=\"3\" cols=\"25\"\r\n                            value={description} onChange={(e) => { setDescription(e.target.value) }}></textarea>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label>detail</label><br />\r\n                        <textarea rows=\"3\" cols=\"25\"\r\n                            value={detail} onChange={(e) => { setDetail(e.target.value) }}></textarea>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label>status</label><br />\r\n                        <select value={status} onChange={(e) => { setStatus(e.target.value) }}>\r\n                            <option value=''>-- Chọn tình trạng sách --</option>\r\n                            <option value=\"true\">Enabled</option>\r\n                            <option value=\"false\">Disabled </option>\r\n                        </select>\r\n                    </div>\r\n                    <input type=\"submit\" value=\"Sửa sách\" />\r\n                </form>\r\n                <button><Link to='/'>Danh sách</Link></button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Edit;","import { BrowserRouter as Router, Routes, Route } from \"react-router-dom\";\r\n\r\nimport Home from \"./pages/Home\";\r\nimport Add from \"./pages/Add\";\r\nimport Edit from \"./pages/Edit\";\r\n\r\nconst App = () => {\r\n\r\n    return (\r\n        <>\r\n            <Router>\r\n                <Routes>\r\n                    <Route path='/' element={<Home />} />\r\n                    <Route path='/add' element={<Add />} />\r\n                    <Route path='/edit/:id' element={<Edit />} />\r\n                </Routes>\r\n            </Router>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport { render } from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nrender(\r\n  <App />,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}